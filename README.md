Апишка к оригинальному проекту консольного приложения https://github.com/N0rz3/Eyes

## Описание ##

Апишка выполнена на FastApi+Postgres через SQLAlchemy. 
ORM выбрана из соображений скорости, точности и безопасности (экранинрование запросов из коробки).
В docker-compose ни приложение, ни БД не подняты, потому что я уже устал (: Придется поднимать локально

Был вынужден подшаманивать исходный код CLI-приложения в части импортов и в части ответов самих сервисов, так как старые ответы плохо писались в БД из-за кодировки. За это нахальство тоже извините

Итак, в апишке две ручки: 

1. POST http://0.0.0.0:8000/

Параметр - JSON формата {"email": <почта для проверки>}. Возвращает данные по этой почте уже с айдишником из БД

![Снимок экрана 2024-09-05 025642](https://github.com/user-attachments/assets/61f9e59f-da70-47ce-9178-04def77e43fa)


2. GET http://0.0.0.0:8000/

Нет параметров. Возвращает список всех хранящихся в постгрес почт с полученными данными по ним. 

![Снимок экрана 2024-09-05 025730](https://github.com/user-attachments/assets/78553db5-6191-49e6-9255-f03245423862)


## Установка ##

git clone https://github.com/VitalyMyalkin/Eyes.git

cd ./Eyes

python -m venv venv

source venv/Scripts/activate

pip install -r requirements.txt

cd ./api

fastapi run main.py

Перед запуском не забудьте создать в постгрес базу eyes_api, а также вам нужен .env файл в директории ./Eyes/api, содержащий данные для подключения к ней:

DB_HOST=<хост>

DB_PORT=<порт>

DB_USER=<юзер>

DB_PASSWORD=<пароль>

DB_NAME=eyes_api

Постскриптум. После остановки приложения база очищается!
